<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预约 API 接口测试看板</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body { font-family: monospace; background: #f0f2f5; padding: 20px; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; color: #0066cc; }
        h3 { font-size: 14px; color: #666; margin-bottom: 8px; }
        
        .form-group { margin-bottom: 10px; }
        label { display: block; font-size: 12px; color: #888; margin-bottom: 4px; }
        input, select, textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; font-family: monospace; }
        button { cursor: pointer; padding: 10px 20px; border: none; border-radius: 4px; font-weight: bold; transition: 0.2s; }
        .btn-green { background: #28a745; color: white; }
        .btn-blue { background: #007bff; color: white; }
        .btn-red { background: #dc3545; color: white; }
        button:hover { opacity: 0.9; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }

        .log-area { background: #2d2d2d; color: #00ff00; padding: 15px; border-radius: 4px; height: 600px; overflow-y: auto; white-space: pre-wrap; font-size: 13px; line-height: 1.4; }
        .log-entry { margin-bottom: 10px; border-bottom: 1px solid #444; padding-bottom: 10px; }
        .log-time { color: #888; font-size: 11px; }
        .log-type-req { color: #ffff00; }
        .log-type-res { color: #00ffff; }
        .log-type-err { color: #ff5555; }
    </style>
</head>
<body>

<div id="app" class="container">
    
    <div class="left-panel">
        
        <div class="card">
            <h2>1. 写入测试 (POST)</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="form-group">
                    <label>日期 (Date)</label>
                    <input type="date" v-model="writeForm.date">
                </div>
                <div class="form-group">
                    <label>开始时间 (Time)</label>
                    <input type="time" v-model="writeForm.startTime">
                </div>
            </div>

            <div class="form-group">
                <label>客户姓名 (Client)</label>
                <input type="text" v-model="writeForm.client" placeholder="测试客户">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="form-group">
                    <label>时长 (Duration)</label>
                    <input type="number" v-model="writeForm.duration">
                </div>
                <div class="form-group">
                    <label>技师Record ID (Tech ID)</label>
                    <input type="text" v-model="writeForm.techId" placeholder="输入员工表中的Record ID">
                </div>
            </div>

            <div class="form-group">
                <label>部门 (Department)</label>
                <select v-model="writeForm.department">
                    <option value="医疗美容">医疗美容</option>
                    <option value="生活美容">生活美容</option>
                </select>
            </div>

            <div class="form-group">
                <label>项目 (Service - 逗号分隔)</label>
                <input type="text" v-model="writeForm.serviceStr" placeholder="光子嫩肤,清洁">
            </div>

            <div class="form-group">
                <label>备注 (Notes)</label>
                <input type="text" v-model="writeForm.notes" placeholder="API测试备注">
            </div>

            <div class="form-group">
                <label>模拟提交人手机 (Submitter)</label>
                <input type="text" v-model="writeForm.submitter" placeholder="13800000000">
            </div>

            <button class="btn-green" @click="testWrite" :disabled="loading" style="width:100%">
                {{ loading ? '提交中...' : '提交预约 (POST)' }}
            </button>
        </div>

        <div class="card">
            <h2>2. 读取测试 (GET)</h2>
            
            <div class="form-group">
                <label>查询日期</label>
                <input type="date" v-model="queryDate">
            </div>

            <div style="display: flex; gap: 10px;">
                <button class="btn-blue" @click="testReadAppt" :disabled="loading" style="flex:1">
                    查询当日预约 (b=0)
                </button>
                <button class="btn-blue" @click="testReadStaff" :disabled="loading" style="flex:1">
                    查询员工列表 (b=1)
                </button>
            </div>
        </div>

        <div class="card">
            <h2>工具</h2>
            <button class="btn-red" @click="clearLogs">清空日志</button>
        </div>

    </div>

    <div class="right-panel">
        <div